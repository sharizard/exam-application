language: java
services:
- docker
script:
- gradle build
- docker build . --tag pgr301exam --build-arg JAR_FILE=./build/libs/exam-0.0.1.jar
- docker login -u $DOCKER_USER -p $DOCKER_TOKEN
- docker tag pgr301exam $DOCKER_USER/pgr301exam
- docker push $DOCKER_USER/pgr301exam
deploy:
  provider: heroku
  app: devops-exam-pgr301-staging
  api_key:
    secure: 1B2D91nBBzOk+A7jTZ+ptG/fz8UpkcI/gQdtViZ51yfYVgUkXeQkIdr1TOOpUn8sUQ5XPwt9do9GAwAPdFa3UJAgD8hbroVAo4gUYM1w9BkYPphiTyPnTopvsoyfqcMF8kogHA08v+jN97ccAVg2olSiMR4BKboFsfwrB4Va2A/ssCRNaTa0l+mHvgtcRNTPGxZUP7jPxELmA5N6LdqCwWMgHQl4WTRb9dksjc2SfIpIukMfMbMARY7U3qPri41ea8Dq/FLopAWbf0CfFpLK9j8EtW0YRjfaCAXHDI78/RfORtjShONrShIKe/yXCHYxpiQOIpIgeGZMGQ90x65X0abLN6ERyva8+2Rgr6xRGER1uZLxNJOr5UuPmsiVXvdkT+sxTqv72IRVkqGAiOwcyyu9fEPpQUaXiq53C2xTpjcs6sthClb9WK1fldbV6nwIeM0y9RKHLCfO3RK72D5OPGbGQjQ6mx3C9OB6/zT5+9b/KEk6TVImtaxVFbrWAuMopDGlj1lDJh9hUI+99pqxBQpZ11xRbUC3J/QBVvr8gtENQmMm25xAG1CKISPdL2RaR08rRAljmUQBkQkg2G1MVFH6m6RyU0bdH9FUUo/NwyPN9+bNGluye0Ee6sxMPzO2e+03ijc4M+c++wYTBOxiY9ocfntfjD1zJ1AP5R55bNc=
env:
  global:
  - secure: ody1H+4N7DmsVFalRidKQ8y6pEdcOXTiU5cbsduC25csfXsd636nLZMYwignzKE8cnIzJZpOXi4+hPWcEC4c0H5Uc/JfHdhiFl5lyEtF33zcc3lwWm/sYrAbCqk/KOY8gY0Dbairvthz5kiaTIUg5MvvynAvSetVG8wrlRJhh2o9UiO2o1CSvVzwTPDW0zv5JqaxV9WR+9DxC2N2UOSOGrsISBoqcH+tt3LCcWCCosYZhned/1RivIcCGHCanxSVUje9hiGgwqaMKzTKuXSwqGSj41UajNsWKqSGVwKKE+A15MurbX5LY6tYlANhY81EAH2IeyyPar6rBKLzlUCnfLTWDipC+C982zal5+siQcil0N8KignSt7pqR5GAhNlFOnCRragFeOrSoddI/72fytB2xMAIBB2UNN8u6owizVk8S1Pl8mYXgv9SEm+SBSAMYDO3ohZqM1mjpGkGH6/pjEgmVNgFZNk+OMtWVMGS2f43eS7r8tiWGIsJe7Ctk8PFFmuYBnRxkRAHC0VnWZ0kW47dXTpcDhnxNOJgU9yorsxg8DL1EZg703v8Eq2Dyiz3DXyiGUSSG2/r1fqs+XgIXRrxzD5kXwRCzA+2Sbp4tm8owr0UG0EIucNM5AZkUnpIWbr/9nr1u0Q8KJCsVv9Q9uAOD8rZXO299aUIG9VFtdc=
  - secure: TBmV95Y7M37SWh5ObdTlDQ4SQy9bwPYSKzh2Hl69Xgy18RV1oTZiUK2m0cMJ6G5ZyJ00GKlQCJevAi4gQpCJG3evY/05ZhL2PdwZef8AV9BF+itkAPNR9sU+M3geMoZRgzc3d2JAw4yJuELZlw6HjOLzXSH4KaOEKe/a7ntm/ayCL1ACFmRptOPFXb4D/6J/dXG8YvOiUg0XBCdIhuw9PgJO7PR38nZ/lMWNxOiVq5l87eTP2bA4XJ1L6+glvOsKUYNSBi+a9Jsj5UAoP8KWNlZweLfAxzIVX3cthAnW50DCDh7EHqFxIKNiBGZuzEY+vOu5cWEr9rWRndlP+eh+rIaI5G/XIoLtGe/b/ZpHwJCpS2aILYQ6VcDeLaOrKRIHBVOnDST4SUGTAJJrlyx+B6/LFrVwl6Eq2jevs1sLPaL/Yb6n4C/msk73nfz/KaZoE0D0Y6mKLRnz5MekwET0aiNI8LOY0sZuYU8EdY9J16GrZ2g9/H2/UXKXSbGV8CpnH+pAV0I7y11uavQFwDzWCctEVlV4sa8bMn09bq9cOuXSiBcRxgOn+P42SaDkZ7kWY0jPtWM6WE6hLdNiHuOrwhPFlEmXPG7PUcGxcUA93UZvjBP++tDaBjHDTC6jNMYug/tyKD+OP1PsVgrCuKaRaLh7LUbPIfac3RuIzSlXS10=
